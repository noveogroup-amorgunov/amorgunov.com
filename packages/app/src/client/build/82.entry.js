/*! For license information please see 82.entry.js.LICENSE.txt */
"use strict";(self.webpackChunkamorgunov_com=self.webpackChunkamorgunov_com||[]).push([[82],{318:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.receiveMessage="receiveMessage"}(t.ConnectorEvent||(t.ConnectorEvent={}))},176:function(e,t,o){const n=o(127),r=o(267),i=o(318),s=o(746);t.Z=class{constructor({connector:e}){if(this.initialState={},this.handlers=[],this.sessionStore=new r.default,!e)throw new Error("Connector argument is required");return this.connector=e,this.connector.on(i.ConnectorEvent.receiveMessage,this.processMessage.bind(this)),this}async processHandlers(e,t){return n(e)(t)}async getSession(e){const t=e.getSessionKey();let o=await this.sessionStore.find(t);return o||(o=new s.Session({user:e.getUser(),bot:this,initialState:Object.assign({},this.initialState)}),await this.sessionStore.add(t,o))}async processMessage(e){const t={session:await this.getSession(e),message:e};this.processHandlers(this.handlers,t).catch(e=>{console.error(e)})}use(e,t){const o=t||e,n=e;if("function"!=typeof o)throw new Error("BotHandler should be function");n instanceof RegExp?this.handlers.push((e,t)=>{const r=e.message.getText().match(n);return r?(e.params=r.length>1?r.slice(1):null,o(e,t)):t()}):"string"==typeof n?this.handlers.push((e,t)=>e.message.getText()===n?o(e,t):t()):this.handlers.push(o)}}},451:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.bot=0]="bot",e[e.user=1]="user"}(t.MessageSender||(t.MessageSender={}))},578:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.Message=class{constructor(e){return this.data=e,this}getText(){return this.data.rawData.text}getUser(){return this.data.user}getSessionKey(){return this.data.sessionKey}}},746:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});const n=o(578),r=o(451);t.Session=class{constructor({user:e,bot:t,initialState:o}){this.initialState={},this.isNew=!0,this.bot=t,this.initialState=o||{},this.state=Object.assign({},o),this.user=e}getUsername(){return this.user.name}send(e,t){this.isNew=!1;const o=new n.Message({rawData:{text:e},user:this.user,sessionKey:this.bot.connector.getUniqueSessionKey(),sender:r.MessageSender.bot});return this.bot.connector.send(o,this.user,t)}resetState(){this.state=Object.assign({},this.initialState)}setState(e){Object.keys(e).forEach(t=>{this.state[t]=e[t]})}}},267:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.store={}}async find(e){return Promise.resolve(this.store[e])}async add(e,t){return this.store[e]=t,Promise.resolve(t)}async destroy(e){return delete this.store[e],Promise.resolve()}}},804:function(e,t,o){var n=o(191),r=o(516),i=o(458),s=o(981);(e.exports=function(e,t){var o,i,a,c,d;return arguments.length<2||"string"!=typeof e?(c=t,t=e,e=null):c=arguments[2],null==e?(o=a=!0,i=!1):(o=s.call(e,"c"),i=s.call(e,"e"),a=s.call(e,"w")),d={value:t,configurable:o,enumerable:i,writable:a},c?n(r(c),d):d}).gs=function(e,t,o){var a,c,d,l;return"string"!=typeof e?(d=o,o=t,t=e,e=null):d=arguments[3],null==t?t=void 0:i(t)?null==o?o=void 0:i(o)||(d=o,o=void 0):(d=t,t=o=void 0),null==e?(a=!0,c=!1):(a=s.call(e,"c"),c=s.call(e,"e")),l={get:t,set:o,configurable:a,enumerable:c},d?n(r(d),l):l}},430:function(e){e.exports=function(){}},191:function(e,t,o){e.exports=o(560)()?Object.assign:o(346)},560:function(e){e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},346:function(e,t,o){var n=o(103),r=o(745),i=Math.max;e.exports=function(e,t){var o,s,a,c=i(arguments.length,2);for(e=Object(r(e)),a=function(n){try{e[n]=t[n]}catch(e){o||(o=e)}},s=1;s<c;++s)n(t=arguments[s]).forEach(a);if(void 0!==o)throw o;return e}},458:function(e){e.exports=function(e){return"function"==typeof e}},914:function(e,t,o){var n=o(430)();e.exports=function(e){return e!==n&&null!==e}},103:function(e,t,o){e.exports=o(446)()?Object.keys:o(137)},446:function(e){e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},137:function(e,t,o){var n=o(914),r=Object.keys;e.exports=function(e){return r(n(e)?Object(e):e)}},516:function(e,t,o){var n=o(914),r=Array.prototype.forEach,i=Object.create,s=function(e,t){var o;for(o in e)t[o]=e[o]};e.exports=function(e){var t=i(null);return r.call(arguments,(function(e){n(e)&&s(Object(e),t)})),t}},290:function(e){e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},745:function(e,t,o){var n=o(914);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},981:function(e,t,o){e.exports=o(591)()?String.prototype.contains:o(42)},591:function(e){var t="razdwatrzy";e.exports=function(){return"function"==typeof t.contains&&(!0===t.contains("dwa")&&!1===t.contains("foo"))}},42:function(e){var t=String.prototype.indexOf;e.exports=function(e){return t.call(this,e,arguments[1])>-1}},370:function(e,t,o){var n,r,i,s,a,c,d,l=o(804),u=o(290),m=Function.prototype.apply,f=Function.prototype.call,h=Object.create,p=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var o,r;return u(t),r=this,n.call(this,e,o=function(){i.call(r,e,o),m.call(t,this,arguments)}),o.__eeOnceListener__=t,this},a={on:n=function(e,t){var o;return u(t),v.call(this,"__ee__")?o=this.__ee__:(o=y.value=h(null),p(this,"__ee__",y),y.value=null),o[e]?"object"==typeof o[e]?o[e].push(t):o[e]=[o[e],t]:o[e]=t,this},once:r,off:i=function(e,t){var o,n,r,i;if(u(t),!v.call(this,"__ee__"))return this;if(!(o=this.__ee__)[e])return this;if("object"==typeof(n=o[e]))for(i=0;r=n[i];++i)r!==t&&r.__eeOnceListener__!==t||(2===n.length?o[e]=n[i?0:1]:n.splice(i,1));else n!==t&&n.__eeOnceListener__!==t||delete o[e];return this},emit:s=function(e){var t,o,n,r,i;if(v.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"==typeof r){for(o=arguments.length,i=new Array(o-1),t=1;t<o;++t)i[t-1]=arguments[t];for(r=r.slice(),t=0;n=r[t];++t)m.call(n,this,i)}else switch(arguments.length){case 1:f.call(r,this);break;case 2:f.call(r,this,arguments[1]);break;case 3:f.call(r,this,arguments[1],arguments[2]);break;default:for(o=arguments.length,i=new Array(o-1),t=1;t<o;++t)i[t-1]=arguments[t];m.call(r,this,i)}}},c={on:l(n),once:l(r),off:l(i),emit:l(s)},d=g({},c),e.exports=t=function(e){return null==e?h(d):g(Object(e),c)},t.methods=a},127:function(e){e.exports=function(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");for(const t of e)if("function"!=typeof t)throw new TypeError("Middleware must be composed of functions!");return function(t,o){let n=-1;return function r(i){if(i<=n)return Promise.reject(new Error("next() called multiple times"));n=i;let s=e[i];i===e.length&&(s=o);if(!s)return Promise.resolve();try{return Promise.resolve(s(t,r.bind(null,i+1)))}catch(e){return Promise.reject(e)}}(0)}}},557:function(e,t){var o=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n=function(e){return"IMG"===e.tagName},r=function(e){return e&&1===e.nodeType},i=function(e){return".svg"===(e.currentSrc||e.src).substr(-4).toLowerCase()},s=function(e){try{return Array.isArray(e)?e.filter(n):function(e){return NodeList.prototype.isPrototypeOf(e)}(e)?[].slice.call(e).filter(n):r(e)?[e].filter(n):"string"==typeof e?[].slice.call(document.querySelectorAll(e)).filter(n):[]}catch(e){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},a=function(e){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.background=e,t},c=function(e){var t=e.getBoundingClientRect(),o=t.top,n=t.left,r=t.width,i=t.height,s=e.cloneNode(),a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,c=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return s.removeAttribute("id"),s.style.position="absolute",s.style.top=o+a+"px",s.style.left=n+c+"px",s.style.width=r+"px",s.style.height=i+"px",s.style.transform="",s},d=function(e,t){var n=o({bubbles:!1,cancelable:!1,detail:void 0},t);if("function"==typeof window.CustomEvent)return new CustomEvent(e,n);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r};!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===o&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}"),t.Z=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=window.Promise||function(e){function t(){}e(t,t)},u=function(e){var t=e.target;return t===C?void z():void(-1===O.indexOf(t)||w({target:t}))},m=function(){if(!S&&H.original){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(j-e)>L.scrollOffset&&setTimeout(z,150)}},f=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e;if(e.background&&(C.style.background=e.background),e.container&&e.container instanceof Object&&(t.container=o({},L.container,e.container)),e.template){var n=r(e.template)?e.template:document.querySelector(e.template);t.template=n}return L=o({},L,t),O.forEach((function(e){e.dispatchEvent(d("medium-zoom:update",{detail:{zoom:k}}))})),k},h=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e(o({},L,t))},p=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t.reduce((function(e,t){return[].concat(e,s(t))}),[]);return n.filter((function(e){return-1===O.indexOf(e)})).forEach((function(e){O.push(e),e.classList.add("medium-zoom-image")})),x.forEach((function(e){var t=e.type,o=e.listener,r=e.options;n.forEach((function(e){e.addEventListener(t,o,r)}))})),k},g=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];H.zoomed&&z();var n=0<t.length?t.reduce((function(e,t){return[].concat(e,s(t))}),[]):O;return n.forEach((function(e){e.classList.remove("medium-zoom-image"),e.dispatchEvent(d("medium-zoom:detach",{detail:{zoom:k}}))})),O=O.filter((function(e){return-1===n.indexOf(e)})),k},v=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return O.forEach((function(n){n.addEventListener("medium-zoom:"+e,t,o)})),x.push({type:"medium-zoom:"+e,listener:t,options:o}),k},y=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return O.forEach((function(n){n.removeEventListener("medium-zoom:"+e,t,o)})),x=x.filter((function(o){return o.type!=="medium-zoom:"+e||o.listener.toString()!==t.toString()})),k},b=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=function(){var e=Math.min,t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},n=void 0,s=void 0;if(L.container)if(L.container instanceof Object)n=(t=o({},t,L.container)).width-t.left-t.right-2*L.margin,s=t.height-t.top-t.bottom-2*L.margin;else{var a=(r(L.container)?L.container:document.querySelector(L.container)).getBoundingClientRect(),c=a.width,d=a.height,l=a.left,u=a.top;t=o({},t,{width:c,height:d,left:l,top:u})}n=n||t.width-2*L.margin,s=s||t.height-2*L.margin;var m=H.zoomedHd||H.original,f=i(m)?n:m.naturalWidth||n,h=i(m)?s:m.naturalHeight||s,p=m.getBoundingClientRect(),g=p.top,v=p.left,y=p.width,b=p.height,z=e(f,n)/y,w=e(h,s)/b,E=e(z,w),_="scale("+E+") translate3d("+((n-y)/2-v+L.margin+t.left)/E+"px, "+((s-b)/2-g+L.margin+t.top)/E+"px, 0)";H.zoomed.style.transform=_,H.zoomedHd&&(H.zoomedHd.style.transform=_)};return new l((function(e){if(t&&-1===O.indexOf(t))e(k);else if(H.zoomed)e(k);else{if(t)H.original=t;else{if(!(0<O.length))return void e(k);var o=O;H.original=o[0]}if(H.original.dispatchEvent(d("medium-zoom:open",{detail:{zoom:k}})),j=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,S=!0,H.zoomed=c(H.original),document.body.appendChild(C),L.template){var i=r(L.template)?L.template:document.querySelector(L.template);H.template=document.createElement("div"),H.template.appendChild(i.content.cloneNode(!0)),document.body.appendChild(H.template)}if(document.body.appendChild(H.zoomed),window.requestAnimationFrame((function(){document.body.classList.add("medium-zoom--opened")})),H.original.classList.add("medium-zoom-image--hidden"),H.zoomed.classList.add("medium-zoom-image--opened"),H.zoomed.addEventListener("click",z),H.zoomed.addEventListener("transitionend",(function t(){S=!1,H.zoomed.removeEventListener("transitionend",t),H.original.dispatchEvent(d("medium-zoom:opened",{detail:{zoom:k}})),e(k)})),H.original.getAttribute("data-zoom-src")){H.zoomedHd=H.zoomed.cloneNode(),H.zoomedHd.removeAttribute("srcset"),H.zoomedHd.removeAttribute("sizes"),H.zoomedHd.src=H.zoomed.getAttribute("data-zoom-src"),H.zoomedHd.onerror=function(){clearInterval(s),console.warn("Unable to reach the zoom image target "+H.zoomedHd.src),H.zoomedHd=null,n()};var s=setInterval((function(){H.zoomedHd.complete&&(clearInterval(s),H.zoomedHd.classList.add("medium-zoom-image--opened"),H.zoomedHd.addEventListener("click",z),document.body.appendChild(H.zoomedHd),n())}),10)}else if(H.original.hasAttribute("srcset")){H.zoomedHd=H.zoomed.cloneNode(),H.zoomedHd.removeAttribute("sizes");var a=H.zoomedHd.addEventListener("load",(function(){H.zoomedHd.removeEventListener("load",a),H.zoomedHd.classList.add("medium-zoom-image--opened"),H.zoomedHd.addEventListener("click",z),document.body.appendChild(H.zoomedHd),n()}))}else n()}}))},z=function(){return new l((function(e){!S&&H.original?(S=!0,document.body.classList.remove("medium-zoom--opened"),H.zoomed.style.transform="",H.zoomedHd&&(H.zoomedHd.style.transform=""),H.template&&(H.template.style.transition="opacity 150ms",H.template.style.opacity=0),H.original.dispatchEvent(d("medium-zoom:close",{detail:{zoom:k}})),H.zoomed.addEventListener("transitionend",(function t(){H.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(H.zoomed),H.zoomedHd&&document.body.removeChild(H.zoomedHd),document.body.removeChild(C),H.zoomed.classList.remove("medium-zoom-image--opened"),H.template&&document.body.removeChild(H.template),S=!1,H.zoomed.removeEventListener("transitionend",t),H.original.dispatchEvent(d("medium-zoom:closed",{detail:{zoom:k}})),H.original=null,H.zoomed=null,H.zoomedHd=null,H.template=null,e(k)}))):e(k)}))},w=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.target;return H.original?z():b({target:t})},E=function(){return L},_=function(){return O},O=[],x=[],S=!1,j=0,L=n,H={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(t)?L=t:(t||"string"==typeof t)&&p(t),L=o({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},L);var C=a(L.background);document.addEventListener("click",u),document.addEventListener("keyup",(function(e){27===(e.keyCode||e.which)&&z()})),document.addEventListener("scroll",m),window.addEventListener("resize",z);var k={open:b,close:z,toggle:w,update:f,clone:h,attach:p,detach:g,on:v,off:y,getOptions:E,getImages:_,getZoomedImage:function(){return H.original}};return k}}}]);
//# sourceMappingURL=82.entry.js.map?v=c710ca2acb6ef5e83d5b